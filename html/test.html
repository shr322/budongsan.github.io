<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estate View</title>
    <style>
        .estate__view--list-img {
            width: 100px;
            height: 100px;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body>

<ul class="estate__view--list-wrap" id="estateList"></ul>

<script>
    async function loadEstateData() {
        try {
            const response = await fetch('data.json'); // JSON 파일 불러오기
            const estates = await response.json();     // JSON 데이터를 JavaScript 객체로 변환
            const estateList = document.getElementById('estateList');

            estates.forEach(estate => {
                // li 요소 생성 및 클래스 추가
                const listItem = document.createElement('li');
                listItem.className = `estate__view--list-item estate__view--list-${estate.region}`;

                // 링크 요소 생성
                listItem.innerHTML = `
                    <a href="${estate.link}.html" class="estate__view--list-link">
                        <div class="estate__view--list-badge"></div>
                        <div class="estate__view--list-img" style="background-image: url(${estate.img})"></div>
                        <div class="estate__view--list-info">
                            <div class="tit">${estate.title}</div>
                            <div class="sub-tit">${estate.subtitle}</div>
                            <div class="txt">
                                ${estate.info.map(item => `<span>${item}</span>`).join('')}
                            </div>
                        </div>
                    </a>
                `;

                // 생성한 li 요소를 ul 요소에 추가
                estateList.appendChild(listItem);
            });
        } catch (error) {
            console.error("Error loading estate data:", error);
        }
    }

    // 데이터 로드 함수 호출
    loadEstateData();
</script>

</body>
</html>
